---
title: "WordPress Plugin"
description: "Add the SuperSeeded upload widget to your WordPress site"
---

## Overview

The SuperSeeded Upload plugin provides a seamless way to add file upload capabilities to your WordPress site. It includes both a Gutenberg block and shortcode, making it easy to embed the upload widget anywhere on your site.

<CardGroup cols={2}>
  <Card title="Shortcode Support" icon="code">
    Use `[superseeded_upload]` in any post or page
  </Card>
  <Card title="Gutenberg Block" icon="cube">
    Native block editor integration
  </Card>
  <Card title="Secure Token Proxy" icon="shield-check">
    API key never exposed to frontend
  </Card>
  <Card title="Customizable" icon="palette">
    Themes, file types, and size limits
  </Card>
</CardGroup>

## Installation

### Manual Installation

1. Download the plugin from the [API repository](https://github.com/superseeded/api/tree/main/wordpress-plugin)
2. Upload to `/wp-content/plugins/superseeded-upload/`
3. Activate via **Plugins > Installed Plugins**

### File Structure

```
superseeded-upload/
├── superseeded-upload.php    # Main plugin file
├── embed.min.js              # SuperSeeded embed SDK
├── js/
│   ├── init.js               # Widget initializer
│   └── block.js              # Gutenberg block
└── readme.txt                # Plugin readme
```

## Configuration

Navigate to **Settings > SuperSeeded Upload** to configure the plugin.

### Required Settings

| Setting | Description |
|---------|-------------|
| Platform API Key | Your SuperSeeded API key (from dashboard) |
| Default Merchant ID | The merchant ID for uploads |

### Optional Settings

| Setting | Default | Description |
|---------|---------|-------------|
| Theme | `light` | Widget theme (`light` or `dark`) |
| Allowed File Types | `.csv,.xlsx,.xls` | Comma-separated extensions |
| Max File Size | `104857600` | Maximum size in bytes (100MB) |

<Warning>
Your API key is stored securely on the server and proxied through WordPress REST API. It is never exposed to the frontend.
</Warning>

## Usage

### Shortcode

Add the upload widget to any page or post:

```
[superseeded_upload]
```

#### Shortcode Attributes

| Attribute | Description | Example |
|-----------|-------------|---------|
| `merchant_id` | Override default merchant ID | `merchant_id="acme-corp"` |
| `theme` | Override theme | `theme="dark"` |
| `class` | Additional CSS classes | `class="my-uploader"` |

#### Example with Attributes

```
[superseeded_upload merchant_id="acme-corp" theme="dark" class="custom-uploader"]
```

### Gutenberg Block

1. Open the page/post in the block editor
2. Click the **+** button to add a block
3. Search for **"SuperSeeded Upload"**
4. Configure options in the block sidebar

<Frame>
  <img src="/images/wordpress-block-editor.png" alt="Gutenberg block editor" />
</Frame>

## JavaScript Events

The widget dispatches custom DOM events that you can listen to for integration with your theme or other plugins:

```javascript
// Get the upload container
const container = document.querySelector('.superseeded-upload-container');

// File added
container.addEventListener('superseeded:file-added', (e) => {
  console.log('File selected:', e.detail.name);
});

// Upload progress
container.addEventListener('superseeded:progress', (e) => {
  console.log(`Progress: ${e.detail.percentage}%`);
});

// Upload complete - now call resolve-specs with the file URL
container.addEventListener('superseeded:complete', (e) => {
  console.log('Upload complete:', e.detail.uploadId);
  
  // Call resolve-specs to process the uploaded file
  SuperSeededWordPress.resolveSpecs(e.detail.tusUrl).then(function(result) {
    console.log('Enriched data:', result.enriched_data);
  });
});

// Upload error
container.addEventListener('superseeded:error', (e) => {
  console.error('Upload failed:', e.detail.message);
});
```

### Event Details

| Event | Detail Properties |
|-------|-------------------|
| `superseeded:file-added` | `{ name, size, type }` |
| `superseeded:progress` | `{ percentage, bytesUploaded, bytesTotal }` |
| `superseeded:complete` | `{ uploadId, tusUrl, file }` |
| `superseeded:error` | `{ message, code }` |
| `superseeded:server-notified` | `{ success, message, data }` |

## Styling

### CSS Variables

Override the default styling with CSS custom properties:

```css
.superseeded-upload-container {
  --superseeded-primary: #4f46e5;
  --superseeded-primary-hover: #4338ca;
  --superseeded-background: #ffffff;
  --superseeded-surface: #f5f5f5;
  --superseeded-text: #1a1a1a;
  --superseeded-text-muted: #666666;
  --superseeded-border: #e0e0e0;
  --superseeded-border-radius: 8px;
}
```

### Theme-Specific Styles

```css
/* Style only dark-themed widgets */
.superseeded-upload-container[data-theme="dark"] {
  --superseeded-background: #0a0a0a;
  --superseeded-surface: #1a1a1a;
}
```

## Dynamic Content

If you're loading content dynamically (AJAX, page builders), reinitialize widgets after the DOM updates:

```javascript
// After dynamic content is loaded
if (window.SuperSeededWordPress) {
  window.SuperSeededWordPress.init();
}
```

## REST API Endpoints

The plugin registers REST API endpoints for token proxy and upload handling:

### Token Endpoint

```
POST /wp-json/superseeded/v1/token
```

**Request:**
```json
{
  "merchant_id": "acme-corp"
}
```

**Response:**
```json
{
  "token": "eyJhbGciOiJIUzI1NiIs..."
}
```

### Upload Complete Endpoint

Called automatically when an upload finishes. Fires the `superseeded_upload_complete` action.

```
POST /wp-json/superseeded/v1/upload-complete
```

**Request:**
```json
{
  "upload_id": "abc123",
  "tus_url": "https://secure.superseeded.ai/files/abc123",
  "file_name": "products.csv",
  "file_size": 102400,
  "file_type": "text/csv",
  "merchant_id": "acme-corp"
}
```

### Resolve Specs Endpoint

Proxy for the SuperSeeded resolve-specs API. Use this to process uploaded files and retrieve enriched data.

```
POST /wp-json/superseeded/v1/resolve-specs
```

**Request:**
```json
{
  "file_url": "https://secure.superseeded.ai/files/abc123"
}
```

This endpoint passes your delegation token and the uploaded file URL to the SuperSeeded API, which fetches and processes the file internally.

**Response:**
```json
{
  "success": true,
  "enriched_data": {
    "items": [...],
    "summary": {...}
  },
  "usage": {
    "rows_processed": 150,
    "is_billable": true
  }
}
```

<Note>
All endpoints require authentication via WordPress nonce (`X-WP-Nonce` header).
</Note>

## PHP Hooks

The plugin provides WordPress actions that allow other plugins and themes to react to upload events.

### superseeded_upload_complete

Fires when an upload completes successfully. Use this to store upload records, trigger workflows, or integrate with other systems.

```php
add_action( 'superseeded_upload_complete', function( $upload_data ) {
    // $upload_data contains:
    // - upload_id: Unique upload identifier
    // - tus_url: Full TUS upload URL
    // - file_name: Original filename
    // - file_size: Size in bytes
    // - file_type: MIME type
    // - merchant_id: Merchant identifier
    // - timestamp: Upload completion time
    // - user_id: WordPress user ID (0 if guest)

    // Example: Store in custom table
    global $wpdb;
    $wpdb->insert(
        $wpdb->prefix . 'superseeded_uploads',
        $upload_data
    );

    // Example: Send notification
    wp_mail(
        get_option( 'admin_email' ),
        'New SuperSeeded Upload',
        'File uploaded: ' . $upload_data['file_name']
    );
}, 10, 1 );
```

### superseeded_specs_resolved

Fires when the resolve-specs API returns enriched data from a processed upload.

```php
add_action( 'superseeded_specs_resolved', function( $response, $file_url ) {
    // $response: The enriched data from SuperSeeded API
    // $file_url: The file URL that was processed

    // Example: Cache the results
    set_transient(
        'superseeded_specs_' . md5( $file_url ),
        $response,
        HOUR_IN_SECONDS
    );
}, 10, 2 );
```

## JavaScript API

The `SuperSeededWordPress` global object provides methods for programmatic control:

```javascript
// Initialize widgets (useful after AJAX content loads)
SuperSeededWordPress.init();

// Initialize a specific container
const container = document.getElementById('my-upload-container');
SuperSeededWordPress.initializeWidget(container);

// Call resolve-specs API to process an uploaded file
// Pass the file_url from the upload complete event
SuperSeededWordPress.resolveSpecs(fileUrl).then(function(result) {
    console.log('Enriched data:', result.enriched_data);
    console.log('Usage:', result.usage);
}).catch(function(error) {
    console.error('Failed to resolve specs:', error);
});
```

### Server Notification Event

Listen for the server's response after upload completion is recorded:

```javascript
document.addEventListener('superseeded:server-notified', function(e) {
    console.log('Server recorded upload:', e.detail);
    // e.detail contains the response from upload-complete endpoint
});
```

## Troubleshooting

### Widget Not Appearing

1. Check that the plugin is activated
2. Verify your API key is configured in Settings
3. Check browser console for JavaScript errors

### Token Fetch Failed

1. Verify your API key is correct
2. Check that the merchant ID is configured
3. Review server error logs for API responses

### Uploads Failing

1. Check file size limits in both plugin settings and WordPress/server config
2. Verify the file type is in the allowed list
3. Check browser network tab for specific error responses

## Complete Example

### Frontend Integration

Here's a complete example integrating the upload widget with a custom thank-you message:

```html
<!-- In your page content -->
[superseeded_upload]

<div id="upload-status" style="display: none; margin-top: 20px;">
  <p id="status-message"></p>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const container = document.querySelector('.superseeded-upload-container');
  const status = document.getElementById('upload-status');
  const message = document.getElementById('status-message');

  container.addEventListener('superseeded:complete', function(e) {
    status.style.display = 'block';
    message.textContent = 'Thank you! Your file has been uploaded successfully.';
    message.style.color = 'green';
  });

  container.addEventListener('superseeded:error', function(e) {
    status.style.display = 'block';
    message.textContent = 'Upload failed: ' + e.detail.message;
    message.style.color = 'red';
  });
});
</script>
```

### Backend Integration (PHP)

Create a custom plugin or add to your theme's `functions.php` to handle uploads server-side:

```php
<?php
/**
 * Handle SuperSeeded upload completion
 */
add_action( 'superseeded_upload_complete', function( $upload_data ) {
    // Log the upload
    error_log( sprintf(
        'SuperSeeded upload: %s (%s bytes) by user %d',
        $upload_data['file_name'],
        $upload_data['file_size'],
        $upload_data['user_id']
    ) );

    // Store in database for tracking
    update_user_meta(
        $upload_data['user_id'],
        'last_superseeded_upload',
        $upload_data
    );

    // Trigger WooCommerce order note (if applicable)
    if ( class_exists( 'WooCommerce' ) ) {
        // Your WooCommerce integration logic
    }
}, 10, 1 );

/**
 * Handle resolved specs from processed upload
 */
add_action( 'superseeded_specs_resolved', function( $response, $file_url ) {
    // Cache enriched product data
    foreach ( $response['enriched_data']['items'] ?? [] as $item ) {
        set_transient(
            'product_specs_' . sanitize_key( $item['sku'] ),
            $item,
            DAY_IN_SECONDS
        );
    }
    
    // Log usage for billing tracking
    error_log( sprintf(
        'SuperSeeded processed %d rows from %s',
        $response['usage']['rows_processed'] ?? 0,
        $file_url
    ) );
}, 10, 2 );
```

## Plugin Source

The complete plugin source is available in the SuperSeeded API repository:

<Card title="View Plugin Source" icon="github" href="https://github.com/superseeded/api/tree/main/wordpress-plugin">
  Browse the plugin files on GitHub
</Card>
