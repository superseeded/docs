---
title: "Code Examples"
description: "Integration examples for Platform users"
---

## Quick Start

Choose your integration path:

<CardGroup cols={2}>
  <Card title="Backend Integration" icon="server" href="#backend">
    Get upload tokens and handle webhooks
  </Card>
  <Card title="Frontend Integration" icon="upload" href="#frontend">
    Upload files with Uppy
  </Card>
</CardGroup>

## Backend Examples

### Get Upload Token

**JavaScript (Node.js):**

```javascript
async function getUploadToken(merchantId, platformApiKey) {
  const response = await fetch('https://api.superseeded.ai/v1/auth/delegate-upload', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${platformApiKey}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ merchant_id: merchantId })
  });
  
  if (!response.ok) {
    throw new Error(`Failed to get upload token: ${response.statusText}`);
  }
  
  const data = await response.json();
  return data.token;
}
```

**Python:**

```python
import requests

def get_upload_token(merchant_id: str, platform_api_key: str) -> str:
    response = requests.post(
        'https://api.superseeded.ai/v1/auth/delegate-upload',
        headers={
            'Authorization': f'Bearer {platform_api_key}',
            'Content-Type': 'application/json'
        },
        json={'merchant_id': merchant_id}
    )
    response.raise_for_status()
    return response.json()['token']
```

### Handle Webhook

**JavaScript:**

```javascript
async function handleSuperSeedWebhook(payload) {
  const { success, usage, enriched_data } = payload;
  
  if (!success) {
    console.error('Upload failed');
    return;
  }
  
  console.log(`Processed ${usage.rows_processed} rows`);
  console.log(`Billable: ${usage.is_billable}`);
  
  // Save enriched_data to your database
  await saveEnrichedData(enriched_data);
}
```

**Python:**

```python
async def handle_superseed_webhook(data):
    if not data.get('success'):
        print("Upload failed")
        return
    
    usage = data['usage']
    enriched_data = data['enriched_data']
    
    print(f"Processed {usage['rows_processed']} rows")
    print(f"Billable: {usage['is_billable']}")
    
    # Save enriched_data to your database
    await save_enriched_data(enriched_data)
```

## Frontend Examples

### Upload with Uppy (Framework-Agnostic)

```javascript
import Uppy from '@uppy/core'
import Tus from '@uppy/tus'

function createUppyUploader(uploadToken, onUploadComplete) {
  const uppy = new Uppy({
    autoProceed: true,
    restrictions: {
      allowedFileTypes: ['.csv', '.xlsx', '.xls']
    }
  });
  
  uppy.use(Tus, {
    endpoint: 'https://secure.superseeded.ai/',
    headers: {
      'Authorization': `Bearer ${uploadToken}`
    },
    chunkSize: 5 * 1024 * 1024, // 5MB
    retryDelays: [0, 1000, 3000, 5000]
  });
  
  uppy.on('complete', (result) => {
    onUploadComplete(result.successful[0]);
  });
  
  return uppy;
}
```

## Complete Flow

Here's the complete end-to-end integration:

```javascript
async function completeUploadFlow(merchantId, file) {
  // 1. Get upload token from your backend
  const token = await fetch('/api/get-upload-token', {
    method: 'POST',
    body: JSON.stringify({ merchant_id: merchantId })
  }).then(r => r.json()).then(d => d.token);
  
  // 2. Upload file with Uppy
  const uppy = new Uppy({ autoProceed: true })
    .use(Tus, {
      endpoint: 'https://secure.superseeded.ai/',
      headers: { 'Authorization': `Bearer ${token}` }
    });
  
  uppy.addFile(file);
  await uppy.upload();
  
  // 3. Webhook will be called automatically with enriched data
  console.log('Upload complete, waiting for webhook...');
}
```

## All Examples

For the complete set of examples, see the [examples repository](https://github.com/superseed/examples).

<Accordion>
  <AccordionItem title="Backend Examples">
    <ul>
      <li><code>get-upload-token.js</code> - JavaScript token request</li>
      <li><code>get-upload-token.py</code> - Python token request</li>
      <li><code>webhook-handler.js</code> - JavaScript webhook</li>
      <li><code>webhook-handler.py</code> - Python webhook</li>
    </ul>
  </AccordionItem>
  <AccordionItem title="Frontend Examples">
    <ul>
      <li><code>upload-with-uppy.js</code> - Framework-agnostic integration</li>
    </ul>
  </AccordionItem>
  <AccordionItem title="Complete Flow">
    <ul>
      <li><code>complete-flow.js</code> - End-to-end example</li>
    </ul>
  </AccordionItem>
</Accordion>
